(this["webpackJsonpslide-puzzle"]=this["webpackJsonpslide-puzzle"]||[]).push([[0],{16:function(e,t,n){e.exports=n.p+"static/media/greatWave.bf385690.jpg"},22:function(e,t,n){e.exports=n(35)},28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),r=n(13),a=n.n(r),c=(n(27),n(28),n(2)),u=n(8),l=n(6),s={pieces:[{key:0,position:{x:0,y:0}},{key:1,position:{x:1,y:0}},{key:2,position:{x:2,y:0}},{key:3,position:{x:3,y:0}},{key:4,position:{x:0,y:1}},{key:5,position:{x:1,y:1}},{key:6,position:{x:2,y:1}},{key:7,position:{x:3,y:1}},{key:8,position:{x:0,y:2}},{key:9,position:{x:1,y:2}},{key:10,position:{x:2,y:2}},{key:11,position:{x:3,y:2}},{key:12,position:{x:0,y:3}},{key:13,position:{x:1,y:3}},{key:14,position:{x:2,y:3}},{key:15,position:{x:3,y:3}}],activePiecePosition:15,adjacentToActive:[11,14],isSolved:!1},d={showHints:!0,size:4},f=Object(u.b)({userConfigurationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HINTS_VISIBILITY":return Object(l.a)(Object(l.a)({},e),{},{showHints:t.payload});case"SET_PUZZLE_SIZE":return Object(l.a)(Object(l.a)({},e),{},{size:t.payload});default:return e}},puzzleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_BOARD":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}}}),p=Object(u.c)(f,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),h=n(5),b=Object(h.a)({AppContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh",backgroundColor:"#1D4E89",overflowX:"hidden",padding:"50px 0"},AppTitle:{fontWeight:700,width:"90vw",fontSize:"2vw",color:"white",marginBottom:"30px",textAlign:"center"}}),y=function(e){return e.puzzleReducer.pieces},v=function(e){return e.puzzleReducer.activePiecePosition},g=function(e){return e.puzzleReducer.adjacentToActive},m=function(e){return e.puzzleReducer.isSolved},k=function(e){return e.userConfigurationReducer.showHints},j=function(e){return e.userConfigurationReducer.size},O=Object(h.a)({puzzlePiece:{width:"100%",height:"100%",backgroundColor:"#FBD1A2",display:"grid",placeItems:"center",transition:"all 0.3s",position:"relative",borderRadius:6,opacity:1,overflow:"hidden"},active:{},adjacent:{"&:after":{width:"100%",height:"100%",position:"absolute",backgroundColor:"rgba(255, 255, 255, 0.0)",content:'""',display:"block",transition:"background-color 0.4s"},"&:hover:after":{backgroundColor:"rgba(255, 255, 255, 0.5)"}},contentContainer:{position:"absolute",top:20,left:20,fontSize:15,fontWeight:700,backgroundColor:"#00B2CA",borderRadius:20,width:40,height:40,display:"grid",placeItems:"center",color:"white",userSelect:"none",opacity:1,transition:"all 0.2s"},hideHints:{"& $contentContainer":{opacity:0}}}),z=function(e){var t=e.pos,n=e.content,o=e.bgStyles,r=e.movePieceCallback,a=e.isAdjacentPiece,u=e.isActivePiece,l=Object(c.c)(k),s=O(),d=s.puzzlePiece,f=s.adjacent,p=s.active,h=s.contentContainer,b=s.hideHints;return i.a.createElement("div",{className:"".concat(d," ").concat(a&&f," ").concat(u&&p," ").concat(!l&&b),style:o,onClick:function(e){a&&r(t)}},i.a.createElement("div",{className:h},n))},E=n(12),x=n(9),w=n(21),S=function(e){for(var t=[],n=0;n<e.length;n++)t.push(n);var o=Object(x.shuffle)(t),i=e.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{key:o[t]})}));return A(i)?i:C(i)},I=function(e,t){var n=_(e);return{pieces:e,adjacentToActive:R(e,n,t),activePiecePosition:n,isSolved:P(e)}},C=function(e){var t=e.findIndex((function(e){return 1===e.key})),n=e.findIndex((function(e){return 2===e.key}));return N(e,t,n)},P=function(e){for(var t=0;t<e.length;t++)if(e[t].key!==t)return!1;return!0},_=function(e){return e.findIndex((function(t){return t.key===e.length-1}))},R=function(e,t,n){n=n||Math.sqrt(e.length),t=t||_(e);var o=_(e),i=e[t].position,r=i.x,a=i.y,c=[];return a>0&&c.push(o-n),a<n-1&&c.push(o+n),r%n!==n-1&&c.push(o+1),r%n&&c.push(o-1),c},T=function(e){return!!(e%2)},A=function(e,t,n){n=n||Math.sqrt(e.length);var o=t?e[t]:e[_(e)],i=function(e){for(var t=e.length-1,n=0,o=0;o<e.length;o++)for(var i=o+1;i<e.length;i++)e[o].key!==t&&e[i].key!==t&&e[o].key>e[i].key&&n++;return n}(e),r=T(i),a=o.position.y+1;if(T(n)){if(!T(i))return!0}else if(T(n-a)){if(r)return!0}else if(!r)return!0;return!1},N=function(e,t,n){var o=Object(w.a)(e),i=o[t].key,r=o[n].key;return o[n].key=i,o[t].key=r,o},B=function(e,t){return{x:e%t,y:Math.floor(e/t)}},W=function(e){return{type:"UPDATE_BOARD",payload:e}},D=Object(h.a)({slidePuzzle:{width:"90vmin",height:"90vmin",border:"solid 0px white",transition:"all 0.4s",position:"relative","&:before":{content:'"you solved it my dude!"',textTransform:"uppercase",position:"absolute",margin:"auto",top:"-3%",right:"-3%",color:"white",fontSize:"2vw",fontWeight:700,width:"25%",height:"25%",display:"grid",placeItems:"center",zIndex:3,transition:"all 0.4s",textAlign:"center",opacity:0,transform:"rotate(-120deg)",backgroundColor:"#F79256",borderRadius:30,pointerEvents:"none"}},solvedPuzzle:{"&:before":{opacity:1,transform:"rotate(-10deg)"}},backgroundStyle:{position:"absolute",top:0,opacity:0,zIndex:99,pointerEvents:"none",display:"none"}}),H=n(16),L=n.n(H),U=function(){var e=Object(c.b)(),t=Object(c.c)(y),n=Object(c.c)(v),r=Object(c.c)(g),a=Object(c.c)(m),u=Object(c.c)(j),l=Object(o.useState)(!0),s=Object(E.a)(l,2),d=s[0],f=s[1],p=Object(o.useState)(0),h=Object(E.a)(p,2),b=h[0],k=h[1],O=Object(o.useRef)(null),w=Object(o.useRef)(null),C=D(),P=C.slidePuzzle,R=C.solvedPuzzle,T=C.backgroundStyle,A=function(){var e;k((null===(e=w.current)||void 0===e?void 0:e.offsetWidth)||0)},H=Object(o.useCallback)(Object(x.debounce)((function(){A()}),200),[]);Object(o.useLayoutEffect)((function(){A();window.addEventListener("resize",(function(){H()}))}),[]);var U=Object(o.useCallback)((function(t){e(W(I(t)))}),[e]),Z=function(e){U(function(e,t,n){return n=n||_(e),N(e,t,n)}(t,e,n))};Object(o.useEffect)((function(){U(function(e){for(var t=e*e,n=[],o=0;o<t;o++){var i={key:o,position:B(o,e)};n.push(i)}return S(n)}(u))}),[u,U]);var F=Object(o.useCallback)((function(e){var t=0;w.current&&(t=w.current.offsetWidth);var n=d?"auto ".concat(t,"px"):"".concat(t,"px auto"),o=t/u,i=B(e,u);return{backgroundImage:"url(".concat(L.a,")"),backgroundSize:n,backgroundPosition:"-".concat(o*i.x,"px -").concat(o*i.y,"px")}}),[u,b,d]);return i.a.createElement("div",{className:"".concat(P," ").concat(a?R:null),ref:w},i.a.createElement(V,{columns:u,elements:t.map((function(e,t){var o=e.key,c=t===n,u=c&&!a;return{id:"element".concat(o),order:t,hidden:u,element:i.a.createElement(z,{pos:t,content:(e.key+1).toString(),movePieceCallback:Z,isActivePiece:c,isAdjacentPiece:r.includes(t),bgStyles:F(e.key)})}})),containerSize:b}),i.a.createElement("img",{className:T,src:L.a,ref:O,onLoad:function(){if(O.current){var e=O.current.width,t=O.current.height;f(!!(e>=t))}},alt:"Background Reference"}))},Z=Object(h.a)({settingsWrapper:{padding:30,color:"white","& label":{userSelect:"none"}},field:{margin:"30px 0"},shuffleButton:{padding:"20px 40px",backgroundColor:"#7DCFB6",textAlign:"center",textTransform:"uppercase",fontSize:30,fontWeight:700,borderRadius:2,userSelect:"none",cursor:"pointer"}}),F=function(e){var t=Object(c.b)(),n=Object(c.c)(y),r=Object(c.c)(k),a=Object(c.c)(j),u=Object(o.useRef)(null),l=Object(o.useCallback)(Object(x.debounce)((function(e){u.current&&t({type:"SET_PUZZLE_SIZE",payload:parseInt(u.current.value)})}),300),[]);Object(o.useEffect)((function(){u.current&&(u.current.value=a.toString())}),[a]);var s=Z(),d=s.settingsWrapper,f=s.field,p=s.shuffleButton;return i.a.createElement("div",{className:"".concat(d)},i.a.createElement("div",{className:f},i.a.createElement("input",{type:"checkbox",name:"showHint",checked:r,onChange:function(e){return function(e){t({type:"SET_HINTS_VISIBILITY",payload:e})}(e.target.checked)}}),i.a.createElement("label",{htmlFor:"showHint"},"Show number hints?")),i.a.createElement("div",{className:f},i.a.createElement("input",{type:"range",min:2,max:10,placeholder:a.toString(),name:"puzzleSize",onChange:function(e){return function(e){l(e)}(parseInt(e.target.value))},ref:u}),i.a.createElement("label",{htmlFor:"puzzleSize"},"Puzzle Size")),i.a.createElement("div",{className:p,onClick:function(){t(W(I(S(n))))}},"shuffle!"))},M=n(20),X=Object(h.a)({galleryContainer:{width:"100%",height:"100%",position:"relative"},galleryItem:{position:"absolute",overflow:"hidden",cursor:"pointer",zIndex:2},hidden:{zIndex:-1,opacity:0}}),V=function(e){var t=e.columns,n=e.elements,r=e.containerSize,a=Object(o.useRef)(null),c=Object(o.useState)(0),u=Object(E.a)(c,2),l=u[0],s=u[1],d=X(),f=d.galleryContainer,p=d.galleryItem,h=d.hidden;return Object(o.useEffect)((function(){r&&a.current?s(r/t):a.current&&s(a.current.offsetWidth)}),[r,t]),i.a.createElement("ul",{className:f,ref:a},n.map((function(e){return e&&i.a.createElement(M.a.li,{key:e.id,id:e.id,className:"".concat(p," ").concat(e.hidden?h:""),transition:{duration:.2},animate:{width:l,height:l,top:Math.floor(e.order/t)*l,left:e.order%t*l}},e.element)})))};var q=function(){var e=b(),t=e.AppContainer,n=e.AppTitle;return i.a.createElement(c.a,{store:p},i.a.createElement("div",{className:t},i.a.createElement("h1",{className:n},"nPiece Slide Puzzle"),i.a.createElement(U,null),i.a.createElement(F,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.464d086f.chunk.js.map