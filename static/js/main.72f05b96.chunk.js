(this["webpackJsonpslide-puzzle"]=this["webpackJsonpslide-puzzle"]||[]).push([[0],{16:function(e,t,n){e.exports=n.p+"static/media/greatWave.bf385690.jpg"},22:function(e,t,n){e.exports=n(35)},28:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(13),c=n.n(a),i=(n(27),n(28),n(2)),u=n(8),l=n(6),s={pieces:[],activePiecePosition:-1,adjacentToActive:[],isSolved:!1},d={showHints:!0,size:4},f=Object(u.b)({userConfigurationReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HINTS_VISIBILITY":return Object(l.a)(Object(l.a)({},e),{},{showHints:t.payload});case"SET_PUZZLE_SIZE":return Object(l.a)(Object(l.a)({},e),{},{size:t.payload});default:return e}},puzzleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_BOARD":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}}}),p=Object(u.c)(f,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),h=n(5),b=Object(h.a)({AppContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",width:"100vw",height:"100vh",backgroundColor:"#1D4E89",overflowX:"hidden",padding:"50px 0"},AppTitle:{fontWeight:700,width:"90vw",fontSize:"2vw",color:"white",marginBottom:"30px",textAlign:"center"}}),v=function(e){return e.puzzleReducer.pieces},g=function(e){return e.puzzleReducer.activePiecePosition},m=function(e){return e.puzzleReducer.adjacentToActive},y=function(e){return e.puzzleReducer.isSolved},j=function(e){return e.userConfigurationReducer.showHints},O=function(e){return e.userConfigurationReducer.size},z=Object(h.a)({puzzlePiece:{width:"100%",height:"100%",backgroundColor:"#FBD1A2",display:"grid",placeItems:"center",transition:"all 0.3s",position:"relative",borderRadius:6,opacity:1,overflow:"hidden"},active:{},adjacent:{"&:after":{width:"100%",height:"100%",position:"absolute",backgroundColor:"rgba(255, 255, 255, 0.0)",content:'""',display:"block",transition:"background-color 0.4s"},"&:hover:after":{backgroundColor:"rgba(255, 255, 255, 0.5)"}},contentContainer:{position:"absolute",top:20,left:20,fontSize:15,fontWeight:700,backgroundColor:"#00B2CA",borderRadius:20,width:40,height:40,display:"grid",placeItems:"center",color:"white",userSelect:"none",opacity:1,transition:"all 0.2s"},hideHints:{"& $contentContainer":{opacity:0}}}),E=function(e){var t=e.pos,n=e.content,r=e.bgStyles,a=e.movePieceCallback,c=e.isAdjacentPiece,u=e.isActivePiece,l=Object(i.c)(j),s=z(),d=s.puzzlePiece,f=s.adjacent,p=s.active,h=s.contentContainer,b=s.hideHints;return o.a.createElement("div",{className:"".concat(d," ").concat(c&&f," ").concat(u&&p," ").concat(!l&&b),style:r,onClick:function(e){c&&a(t)}},o.a.createElement("div",{className:h},n))},k=n(12),w=n(9),S=n(21),x=function e(t){for(var n=[],r=0;r<t.length;r++)n.push(r);var o=Object(w.shuffle)(n),a=t.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{key:o[t]})}));return A(a)?P(a)?e(a):a:C(a)},I=function(e,t){var n=_(e);return{pieces:e,adjacentToActive:R(e,n,t),activePiecePosition:n,isSolved:P(e)}},C=function(e){var t=e.findIndex((function(e){return 1===e.key})),n=e.findIndex((function(e){return 2===e.key}));return N(e,t,n)},P=function(e){for(var t=0;t<e.length;t++)if(e[t].key!==t)return!1;return!0},_=function(e){return e.findIndex((function(t){return t.key===e.length-1}))},R=function(e,t,n){n=n||Math.sqrt(e.length),t=t||_(e);var r=_(e),o=e[t].position,a=o.x,c=o.y,i=[];return c>0&&i.push(r-n),c<n-1&&i.push(r+n),a%n!==n-1&&i.push(r+1),a%n&&i.push(r-1),i},T=function(e){return!!(e%2)},A=function(e,t,n){n=n||Math.sqrt(e.length);var r=t?e[t]:e[_(e)],o=function(e){for(var t=e.length-1,n=0,r=0;r<e.length;r++)for(var o=r+1;o<e.length;o++)e[r].key!==t&&e[o].key!==t&&e[r].key>e[o].key&&n++;return n}(e),a=T(o),c=r.position.y+1;if(T(n)){if(!T(o))return!0}else if(T(n-c)){if(a)return!0}else if(!a)return!0;return!1},N=function(e,t,n){var r=Object(S.a)(e),o=r[t].key,a=r[n].key;return r[n].key=o,r[t].key=a,r},B=function(e,t){return{x:e%t,y:Math.floor(e/t)}},W=function(e){return{type:"UPDATE_BOARD",payload:e}},D=Object(h.a)({slidePuzzle:{width:"90vmin",height:"90vmin",border:"solid 0px white",transition:"all 0.4s",position:"relative","&:before":{content:'"you solved it my dude!"',textTransform:"uppercase",position:"absolute",margin:"auto",top:"-3%",right:"-3%",color:"white",fontSize:"2vw",fontWeight:700,width:"25%",height:"25%",display:"grid",placeItems:"center",zIndex:3,transition:"all 0.4s",textAlign:"center",opacity:0,transform:"rotate(-120deg)",backgroundColor:"#F79256",borderRadius:30,pointerEvents:"none"}},solvedPuzzle:{"&:before":{opacity:1,transform:"rotate(-10deg)"}},backgroundStyle:{position:"absolute",top:0,opacity:0,zIndex:99,pointerEvents:"none",display:"none"}}),H=n(16),L=n.n(H),U=function(){var e=Object(i.b)(),t=Object(i.c)(v),n=Object(i.c)(g),a=Object(i.c)(m),c=Object(i.c)(y),u=Object(i.c)(O),l=Object(r.useState)(!0),s=Object(k.a)(l,2),d=s[0],f=s[1],p=Object(r.useState)(0),h=Object(k.a)(p,2),b=h[0],j=h[1],z=Object(r.useRef)(null),S=Object(r.useRef)(null),C=D(),P=C.slidePuzzle,R=C.solvedPuzzle,T=C.backgroundStyle,A=function(){var e;j((null===(e=S.current)||void 0===e?void 0:e.offsetWidth)||0)},H=Object(r.useCallback)(Object(w.debounce)((function(){A()}),200),[]);Object(r.useLayoutEffect)((function(){A();window.addEventListener("resize",(function(){H()}))}),[]);var U=Object(r.useCallback)((function(t){e(W(I(t)))}),[e]),Z=function(e){U(function(e,t,n){return n=n||_(e),N(e,t,n)}(t,e,n))};Object(r.useEffect)((function(){U(function(e){for(var t=e*e,n=[],r=0;r<t;r++){var o={key:r,position:B(r,e)};n.push(o)}return x(n)}(u))}),[u,U]);var F=Object(r.useCallback)((function(e){var t=0;S.current&&(t=S.current.offsetWidth);var n=d?"auto ".concat(t,"px"):"".concat(t,"px auto"),r=t/u,o=B(e,u);return{backgroundImage:"url(".concat(L.a,")"),backgroundSize:n,backgroundPosition:"-".concat(r*o.x,"px -").concat(r*o.y,"px")}}),[u,b,d]);return o.a.createElement("div",{className:"".concat(P," ").concat(c?R:null),ref:S},o.a.createElement(V,{columns:u,elements:t.map((function(e,t){var r=e.key,i=t===n,u=i&&!c;return{id:"element".concat(r),order:t,hidden:u,element:o.a.createElement(E,{pos:t,content:(e.key+1).toString(),movePieceCallback:Z,isActivePiece:i,isAdjacentPiece:a.includes(t),bgStyles:F(e.key)})}})),containerSize:b}),o.a.createElement("img",{className:T,src:L.a,ref:z,onLoad:function(){if(z.current){var e=z.current.width,t=z.current.height;f(!!(e>=t))}},alt:"Background Reference"}))},Z=Object(h.a)({settingsWrapper:{padding:30,color:"white","& label":{userSelect:"none"}},field:{margin:"30px 0"},shuffleButton:{padding:"20px 40px",backgroundColor:"#7DCFB6",textAlign:"center",textTransform:"uppercase",fontSize:30,fontWeight:700,borderRadius:2,userSelect:"none",cursor:"pointer"}}),F=function(e){var t=Object(i.b)(),n=Object(i.c)(v),a=Object(i.c)(j),c=Object(i.c)(O),u=Object(r.useRef)(null),l=Object(r.useCallback)(Object(w.debounce)((function(e){u.current&&t({type:"SET_PUZZLE_SIZE",payload:parseInt(u.current.value)})}),300),[]);Object(r.useEffect)((function(){u.current&&(u.current.value=c.toString())}),[c]);var s=Z(),d=s.settingsWrapper,f=s.field,p=s.shuffleButton;return o.a.createElement("div",{className:"".concat(d)},o.a.createElement("div",{className:f},o.a.createElement("input",{type:"checkbox",name:"showHint",checked:a,onChange:function(e){return function(e){t({type:"SET_HINTS_VISIBILITY",payload:e})}(e.target.checked)}}),o.a.createElement("label",{htmlFor:"showHint"},"Show number hints?")),o.a.createElement("div",{className:f},o.a.createElement("input",{type:"range",min:2,max:10,placeholder:c.toString(),name:"puzzleSize",onChange:function(e){return function(e){l(e)}(parseInt(e.target.value))},ref:u}),o.a.createElement("label",{htmlFor:"puzzleSize"},"Puzzle Size")),o.a.createElement("div",{className:p,onClick:function(){t(W(I(x(n))))}},"shuffle!"))},M=n(20),X=Object(h.a)({galleryContainer:{width:"100%",height:"100%",position:"relative"},galleryItem:{position:"absolute",overflow:"hidden",cursor:"pointer",zIndex:2},hidden:{zIndex:-1,opacity:0}}),V=function(e){var t=e.columns,n=e.elements,a=e.containerSize,c=Object(r.useRef)(null),i=Object(r.useState)(0),u=Object(k.a)(i,2),l=u[0],s=u[1],d=X(),f=d.galleryContainer,p=d.galleryItem,h=d.hidden;return Object(r.useEffect)((function(){a&&c.current?s(a/t):c.current&&s(c.current.offsetWidth)}),[a,t]),o.a.createElement("ul",{className:f,ref:c},n.map((function(e){return e&&o.a.createElement(M.a.li,{key:e.id,id:e.id,className:"".concat(p," ").concat(e.hidden?h:""),transition:{duration:.2},animate:{width:l,height:l,top:Math.floor(e.order/t)*l,left:e.order%t*l}},e.element)})))};var q=function(){var e=b(),t=e.AppContainer,n=e.AppTitle;return o.a.createElement(i.a,{store:p},o.a.createElement("div",{className:t},o.a.createElement("h1",{className:n},"nPiece Slide Puzzle"),o.a.createElement(U,null),o.a.createElement(F,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.72f05b96.chunk.js.map